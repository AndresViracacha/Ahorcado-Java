package xd;
import java.util.*;

public class Proyecto {
	public static void main(String[] args) {
		boolean juego = true, menu=true;
		int vidas=0;
		String letra,palabra;
		char volverAJugar;
		Scanner teclado = new Scanner(System.in);		
		//Ingresamos la palabra que se usara
		System.out.println("escribe la palabra con la que quieras jugar");
		 palabra = teclado.nextLine();	
		//se crea el arreglo para saber que letras han dado correctas y cuales faltan
		int[] letrasCorrectas = new int[palabra.length()];
		System.out.println("Ingresa la cantidad de vidas con las que quieras jugar");
		vidas = teclado.nextInt();
		/*cuantas letras hay*/
		mostrarCaracteres(palabra);
		System.out.println(" ");		
		while(juego) {				
			System.out.println("Ingresa una letra");
			letra = teclado.next();
			if(letra.startsWith("p")) {
				juego=false;
			}
			//se da como retorno vidas para que guarde el nuevo valor dentro de la misma
			vidas = identificarLetra(palabra,letra.charAt(0),letrasCorrectas,vidas);
			mostrarLetrasCorrectas(palabra,letrasCorrectas);
			System.out.println(" ");	
			System.out.println("Vidas Restantes: " +vidas);
			juego = perder(vidas,juego);
			if(verificarGano(letrasCorrectas)) {
				System.out.println("Felicidades has ganado");
				juego=false;
			}
			if(!juego) {
				System.out.println("Quieres volver a jugar? s/n");
				volverAJugar = teclado.next().toLowerCase().charAt(0);
				if(volverAJugar=='s') {
					System.out.println("a jugar!");
					juego=true;
					vidas=5;
				}	
			}
			
		}
		
	}
	public static void mostrarCaracteres(String palabra) {
		for(int i = 0; i<palabra.length();i++) {
			System.out.print("_ ");		
		}
	}
	public static int identificarLetra(String palabra, char letra,int[] letrasCorrectas,int vidas) {
		boolean existeLetra = false;
		for(int i = 0; i<palabra.length();i++) {
			if(palabra.charAt(i)==letra) {
				letrasCorrectas[i]=1;
				existeLetra=true;
			}
		}
		if(!existeLetra) {
			vidas--;
		}
		return vidas;
	}
	public static void mostrarLetrasCorrectas(String palabra, int[] letrasCorrectas) {
		for(int i = 0; i<palabra.length();i++) {
			if(letrasCorrectas[i]==1) {
				System.out.print(palabra.charAt(i)+" ");
			}else {
				System.out.print("_ ");
			}
		}
	}
	public static boolean perder(int vidas,boolean juego) {
		if(vidas<=0) {
			System.out.println("Has perdido");
			juego = false;
		}
		return juego;
	}
	public static boolean verificarGano(int[] letrasCorrectas) {
		boolean gano = false;
		int contador=0;
		for(int i = 0; i<letrasCorrectas.length;i++) {
			if(letrasCorrectas[i]==1) {
				contador++;
			}
		}
		if(contador==letrasCorrectas.length) {
			gano=true;
		}
		return gano;
	}
}